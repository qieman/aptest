(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{695:function(t,e,r){"use strict";r.r(e);r(73),r(74),r(40),r(447),r(229);var o=r(82),n=r(83),c=r(227),l=r(228),d=r(180),f=r(51),h=r(181);r(448);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var v=function(t,e,r,desc){var o,n=arguments.length,c=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(n<3?o(c):n>3?o(e,r,c):o(e,r))||c);return n>3&&c&&Object.defineProperty(e,r,c),c},y=function(t){Object(c.a)(f,t);var e,r=(e=f,function(){var t,r=Object(d.a)(e);if(m()){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(l.a)(this,t)});function f(){var t;return Object(o.a)(this,f),(t=r.apply(this,arguments)).statusMap=["已发布","","已撤销"],t.statusColorMap=["green","orange","purple"],t.rowSelection={onChange:function(e,r){t.emitSelect(r)},onSelect:function(t,e,r){},onSelectAll:function(t,e,r){}},t.columns=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"封面",dataIndex:"main_img",key:"main_img",scopedSlots:{customRender:"main_img"},width:100},{title:"标题",dataIndex:"title",key:"title",width:300},{title:"简介",dataIndex:"description",key:"description"},{title:"标签",dataIndex:"tags",key:"tags",scopedSlots:{customRender:"tags"}},{title:"含视频",dataIndex:"video",key:"video",scopedSlots:{customRender:"video"},width:80},{title:"翻译状态",dataIndex:"translated",key:"translated",scopedSlots:{customRender:"translated"},width:120},{title:"操作",dataIndex:"actions",key:"actions",scopedSlots:{customRender:"actions"},width:70}],t.data=[{description:"str",id:1,main_img:"https://ali.xinshipu.cn/20160621_1/original/1466449368012.jpg@288w_216h_99q_1e_1c.jpg",title:"水煮蛋时，有人开水煮有人冷水煮，都不对，这才是正确做法",tags:["鸡蛋","美食","国外"],video:"是",translated:0}],t}return Object(n.a)(f,[{key:"onSelectedRowChange",value:function(t){console.log("watch"),this.$emit("select",t)}},{key:"emitSelect",value:function(t){this.$emit("select",t)}},{key:"changeTable",value:function(t,e,r,o){var n=o.currentDataSource;this.$emit("change",{pagination:t,filters:e,sorter:r,currentDataSource:n})}},{key:"pagination",get:function(){return{current:this.current,defaultPageSize:this.pagesize,hideOnSinglePage:!0,total:this.total}}}]),f}(h.c);v([Object(h.b)({type:Array,default:function(){return[]}})],y.prototype,"dataSource",void 0),v([Object(h.b)({type:Number,default:10})],y.prototype,"pagesize",void 0),v([Object(h.b)({type:Number,default:10})],y.prototype,"total",void 0),v([Object(h.b)({type:Boolean,default:!0})],y.prototype,"loading",void 0),v([Object(h.b)({type:Number,default:!0})],y.prototype,"current",void 0),v([Object(h.d)("selectedRow")],y.prototype,"onSelectedRowChange",null);var _=y=v([h.a],y),k=r(59),w=Object(k.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-table",{staticClass:"article-list",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.loading,rowSelection:t.rowSelection,bordered:""},on:{change:t.changeTable},scopedSlots:t._u([{key:"actions",fn:function(text,e){return r("span",{},[e.record?r("a",{attrs:{href:"#"}},[t._v("预发布")]):r("a",{attrs:{href:"#"}},[t._v("翻译")])])}},{key:"tags",fn:function(e){return r("span",{},t._l(e,(function(e){return r("a-tag",{key:e+Math.random(),attrs:{color:"blue"}},[t._v(t._s(e))])})),1)}},{key:"main_img",fn:function(t){return r("span",{},[r("img",{attrs:{src:t,width:"80",height:"60"}})])}},{key:"translated",fn:function(text,t){return r("span",{},[r("a-progress",{attrs:{percent:text||0}})],1)}},{key:"video",fn:function(text){return r("span",{},[t._v(t._s(text?"是":"否"))])}}])},[r("span",{attrs:{slot:"actions1"},slot:"actions1"},[t._v("123")])])}),[],!1,null,null,null).exports;function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var O=function(t,e,r,desc){var o,n=arguments.length,c=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(n<3?o(c):n>3?o(e,r,c):o(e,r))||c);return n>3&&c&&Object.defineProperty(e,r,c),c},S=function(t){Object(c.a)(f,t);var e,r=(e=f,function(){var t,r=Object(d.a)(e);if(j()){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(l.a)(this,t)});function f(){var t;return Object(o.a)(this,f),(t=r.apply(this,arguments)).loading=!0,t.page=1,t.per_page=10,t.total=0,t.searchForm={keyword:"",source:"cookpad",lan:"zh",position:"title"},t.articleList=[],t.sourceList=["cookpad"],t.selectedRow=[],t}return Object(n.a)(f,[{key:"created",value:function(){this.$store.commit("NavType",1)}},{key:"getArticleList",value:function(){var t=this;this.loading=!0,this.$http.Get(this.$api.getcrawlarticle.replace("<domain>",this.searchForm.source),{page:this.page,per_page:this.per_page},(function(){t.loading=!1})).then((function(e){t.articleList=e.item_list.map((function(t){return t.key=t.id,t})),t.total=e.total}))}},{key:"changeTable",value:function(t){var e=t.pagination;t.filters,t.sorter,t.currentDataSource;this.page=e.current,this.getArticleList()}},{key:"selected",value:function(t){this.selectedRow=t}},{key:"mounted",value:function(){this.getArticleList()}}]),f}(h.c),R=S=O([Object(h.a)({components:{ArticleList:w}})],S),x=Object(k.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{staticClass:"article-list-card",staticStyle:{"min-height":"100%"}},[r("div",{attrs:{slot:"title"},slot:"title"},[t._v("已爬取的文章列表")]),t._v(" "),r("a-row",{staticClass:"article-list-tool-bar"},[r("a-col",{attrs:{span:"24"}},[r("a-form-model",{attrs:{layout:"inline"},nativeOn:{submit:function(t){t.preventDefault()}}},[r("a-form-model-item",{attrs:{label:"翻译选项"}},[r("a-button",[t._v("随机翻译10篇")])],1),t._v(" "),r("a-form-model-item",[r("a-button",[t._v("随机翻译100篇")])],1),t._v(" "),r("a-form-model-item",{attrs:{label:"5分钟翻译一次"}},[r("a-switch",{attrs:{defaultChecked:""}})],1)],1)],1)],1),t._v(" "),r("a-row",{staticClass:"article-list-tool-bar"},[r("a-col",{attrs:{span:"24"}},[r("a-form-model",{attrs:{layout:"inline",model:t.searchForm},nativeOn:{submit:function(t){t.preventDefault()}}},[r("a-form-model-item",{attrs:{label:"切换站源"}},[r("a-select",{attrs:{placeholder:"切换站源",defaultValue:"all"},model:{value:t.searchForm.source,callback:function(e){t.$set(t.searchForm,"source",e)},expression:"searchForm.source"}},[r("a-select-option",{attrs:{value:"all"}},[t._v("全部站源")]),t._v(" "),t._l(t.sourceList,(function(source){return r("a-select-option",{key:source,attrs:{value:source}},[t._v(t._s(source))])}))],2)],1),t._v(" "),r("a-form-model-item",{staticStyle:{"margin-right":"0px"},attrs:{label:"搜索文章"}},[r("a-input",{attrs:{placeholder:"输入关键词"},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1),t._v(" "),r("a-form-model-item",{staticStyle:{"margin-right":"0px"}},[r("a-select",{attrs:{placeholder:"搜索位置",defaultValue:"zh"},model:{value:t.searchForm.position,callback:function(e){t.$set(t.searchForm,"position",e)},expression:"searchForm.position"}},[r("a-select-option",{attrs:{value:"title",selected:""}},[t._v("标题")]),t._v(" "),r("a-select-option",{attrs:{value:"des"}},[t._v("简介")]),t._v(" "),r("a-select-option",{attrs:{value:"content"}},[t._v("内容")]),t._v(" "),r("a-select-option",{attrs:{value:"tags"}},[t._v("标签")])],1)],1),t._v(" "),r("a-form-model-item",{staticStyle:{"margin-right":"0px"}},[r("a-select",{attrs:{placeholder:"搜索语言",defaultValue:"zh"},model:{value:t.searchForm.lan,callback:function(e){t.$set(t.searchForm,"lan",e)},expression:"searchForm.lan"}},[r("a-select-option",{attrs:{value:"zh",selected:""}},[t._v("中文")]),t._v(" "),r("a-select-option",{attrs:{value:"jp"}},[t._v("日语")]),t._v(" "),r("a-select-option",{attrs:{value:"en"}},[t._v("英语")])],1)],1),t._v(" "),r("a-form-model-item",[r("a-button",{attrs:{type:"primary","html-type":"submit",disabled:""===t.searchForm.keyword}},[t._v("搜索")])],1)],1)],1)],1),t._v(" "),r("a-row",{staticClass:"article-list-tool-bar"},[r("a-col",{attrs:{span:"24"}},[t._v("\n      批量操作：\n      "),r("a-button",{attrs:{type:"primary",disabled:!t.selectedRow.length}},[t._v("翻译")])],1)],1),t._v(" "),r("ArticleList",{attrs:{dataSource:t.articleList,pagesize:t.per_page,current:t.page,total:t.total,loading:t.loading},on:{change:t.changeTable,select:t.selected}})],1)}),[],!1,null,null,null);e.default=x.exports}}]);